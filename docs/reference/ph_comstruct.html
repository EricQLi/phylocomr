<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>comstruct — ph_comstruct • phylocomr</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">


<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script>
<script src="../pkgdown.js"></script>

<!-- mathjax -->
<script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">phylocomr</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/ropensci/phylocomr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

      <div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>comstruct</h1>
    </div>

    
    <p>comstruct</p>
    

    <pre><span class='fu'>ph_comstruct</span>(<span class='no'>sample</span>, <span class='no'>phylo</span>, <span class='kw'>null_model</span> <span class='kw'>=</span> <span class='fl'>0</span>, <span class='kw'>randomizations</span> <span class='kw'>=</span> <span class='fl'>999</span>,
  <span class='kw'>swaps</span> <span class='kw'>=</span> <span class='fl'>1000</span>, <span class='kw'>abundance</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <dl class="dl-horizontal">
      <dt>sample</dt>
      <dd>(data.frame/character) sample data.frame or path to a
sample file</dd>
      <dt>phylo</dt>
      <dd>(character/phylo) phylogeny as a phylo object or a newick
string (will be written to a temp file if provided) - or a path to a
file with a newick string</dd>
      <dt>null_model</dt>
      <dd>(integer) which null model to use. See Details.</dd>
      <dt>randomizations</dt>
      <dd>(numeric) number of randomizations. Default: 999</dd>
      <dt>swaps</dt>
      <dd>(numeric) number of swaps. Default: 1000</dd>
      <dt>abundance</dt>
      <dd>(logical) If <code>TRUE</code> (default) computed accounting
for abundance. Otherwise, uses presence-absence.</dd>
    </dl>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>data.frame</p>
    
    <h2 class="hasAnchor" id="null-models"><a class="anchor" href="#null-models"></a>Null models</h2>

    <p></p>
    <p><ul>
<li> 0 - Phylogeny shuffle: This null model shuffles species labels across
 the entire phylogeny. This randomizes phylogenetic relationships among
 species.
 </li>
<li> 1 - Species in each sample become random draws from sample pool:
 This null model maintains the species richness of each sample, but the
 identities of the species occurring in each sample are randomized. For
 each sample, species are drawn without replacement from the list of all
 species actually occurring in at least one sample. Thus, species in the
 phylogeny that are not actually observed to occur in a sample will not
 be included in the null communities
 </li>
<li> 2 - Species in each sample become random draws from phylogeny pool:
 This null model maintains the species richness of each sample, but the
 identities of the species occurring in each sample are randomized. For
 each sample, species are drawn without replacement from the list of all
 species in the phylogeny pool. All species in the phylogeny will have
 equal probability of being included in the null communities. By changing
 the phylogeny, different species pools can be simulated. For example, the
 phylogeny could include the species present in some larger region.
 </li>
<li> 3 - Independent swap: The independent swap algorithm (Gotelli and
 Entsminger, 2003); also known as ‘SIM9’ (Gotelli, 2000) creates swapped
 versions of the sample/species matrix.
</li>
</ul></p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>sfile</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"examples/sample_comstruct"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"phylocomr"</span>)
<span class='no'>pfile</span> <span class='kw'>&lt;-</span> <span class='fu'>system.file</span>(<span class='st'>"examples/phylo_comstruct"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"phylocomr"</span>)

<span class='co'># from data.frame</span>
<span class='no'>sampledf</span> <span class='kw'>&lt;-</span> <span class='fu'>read.table</span>(<span class='no'>sfile</span>, <span class='kw'>header</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>stringsAsFactors</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)
<span class='no'>phylo_str</span> <span class='kw'>&lt;-</span> <span class='fu'>readLines</span>(<span class='no'>pfile</span>)
(<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>ph_comstruct</span>(<span class='kw'>sample</span> <span class='kw'>=</span> <span class='no'>sampledf</span>, <span class='kw'>phylo</span> <span class='kw'>=</span> <span class='no'>phylo_str</span>))</div><div class='output co'>#&gt; # A tibble: 6 × 15
#&gt;      plot ntaxa    MPD MPD.rnd MPD.sd     NRI MPD.rankLow MPD.rankHi  MNTD
#&gt;     &lt;chr&gt; &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;       &lt;int&gt;      &lt;int&gt; &lt;dbl&gt;
#&gt; 1  clump1     8 4.2500  7.2675 0.3060  9.8606         999          0 2.000
#&gt; 2 clump2a     8 4.9444  7.1575 0.3205  6.9053         999          0 2.000
#&gt; 3 clump2b     8 5.8333  7.1565 0.3172  4.1712         993          6 2.000
#&gt; 4  clump4     8 6.9444  7.1668 0.3101  0.7172         815        206 2.000
#&gt; 5    even     8 7.7500  7.2840 0.2837 -1.6428           6        999 6.000
#&gt; 6  random     8 7.1094  7.0061 0.3462 -0.2985         460        554 4.875
#&gt; # ... with 6 more variables: MNTD.rnd &lt;dbl&gt;, MNTD.sd &lt;dbl&gt;, NTI &lt;dbl&gt;,
#&gt; #   MNTD.rankLo &lt;int&gt;, MNTD.rankHi &lt;int&gt;, runs &lt;int&gt;</div><div class='input'>
<span class='co'># from files</span>
<span class='no'>sample_str</span> <span class='kw'>&lt;-</span> <span class='fu'>paste0</span>(<span class='fu'>readLines</span>(<span class='no'>sfile</span>), <span class='kw'>collapse</span> <span class='kw'>=</span> <span class='st'>"\n"</span>)
<span class='no'>sfile2</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>cat</span>(<span class='no'>sample_str</span>, <span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>sfile2</span>, <span class='kw'>sep</span> <span class='kw'>=</span> <span class='st'>'\n'</span>)
<span class='no'>pfile2</span> <span class='kw'>&lt;-</span> <span class='fu'>tempfile</span>()
<span class='fu'>cat</span>(<span class='no'>phylo_str</span>, <span class='kw'>file</span> <span class='kw'>=</span> <span class='no'>pfile2</span>, <span class='kw'>sep</span> <span class='kw'>=</span> <span class='st'>'\n'</span>)
(<span class='no'>res</span> <span class='kw'>&lt;-</span> <span class='fu'>ph_comstruct</span>(<span class='kw'>sample</span> <span class='kw'>=</span> <span class='no'>sfile2</span>, <span class='kw'>phylo</span> <span class='kw'>=</span> <span class='no'>pfile2</span>))</div><div class='output co'>#&gt; # A tibble: 6 × 15
#&gt;      plot ntaxa    MPD MPD.rnd MPD.sd     NRI MPD.rankLow MPD.rankHi  MNTD
#&gt;     &lt;chr&gt; &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;       &lt;int&gt;      &lt;int&gt; &lt;dbl&gt;
#&gt; 1  clump1     8 4.2500  7.2675 0.3060  9.8606         999          0 2.000
#&gt; 2 clump2a     8 4.9444  7.1575 0.3205  6.9053         999          0 2.000
#&gt; 3 clump2b     8 5.8333  7.1565 0.3172  4.1712         993          6 2.000
#&gt; 4  clump4     8 6.9444  7.1668 0.3101  0.7172         815        206 2.000
#&gt; 5    even     8 7.7500  7.2840 0.2837 -1.6428           6        999 6.000
#&gt; 6  random     8 7.1094  7.0061 0.3462 -0.2985         460        554 4.875
#&gt; # ... with 6 more variables: MNTD.rnd &lt;dbl&gt;, MNTD.sd &lt;dbl&gt;, NTI &lt;dbl&gt;,
#&gt; #   MNTD.rankLo &lt;int&gt;, MNTD.rankHi &lt;int&gt;, runs &lt;int&gt;</div><div class='input'>
<span class='co'># different null models</span>
<span class='fu'>ph_comstruct</span>(<span class='kw'>sample</span> <span class='kw'>=</span> <span class='no'>sfile2</span>, <span class='kw'>phylo</span> <span class='kw'>=</span> <span class='no'>pfile2</span>, <span class='kw'>null_model</span> <span class='kw'>=</span> <span class='fl'>0</span>)</div><div class='output co'>#&gt; # A tibble: 6 × 15
#&gt;      plot ntaxa    MPD MPD.rnd MPD.sd     NRI MPD.rankLow MPD.rankHi  MNTD
#&gt;     &lt;chr&gt; &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;       &lt;int&gt;      &lt;int&gt; &lt;dbl&gt;
#&gt; 1  clump1     8 4.2500  7.2675 0.3060  9.8606         999          0 2.000
#&gt; 2 clump2a     8 4.9444  7.1575 0.3205  6.9053         999          0 2.000
#&gt; 3 clump2b     8 5.8333  7.1565 0.3172  4.1712         993          6 2.000
#&gt; 4  clump4     8 6.9444  7.1668 0.3101  0.7172         815        206 2.000
#&gt; 5    even     8 7.7500  7.2840 0.2837 -1.6428           6        999 6.000
#&gt; 6  random     8 7.1094  7.0061 0.3462 -0.2985         460        554 4.875
#&gt; # ... with 6 more variables: MNTD.rnd &lt;dbl&gt;, MNTD.sd &lt;dbl&gt;, NTI &lt;dbl&gt;,
#&gt; #   MNTD.rankLo &lt;int&gt;, MNTD.rankHi &lt;int&gt;, runs &lt;int&gt;</div><div class='input'><span class='fu'>ph_comstruct</span>(<span class='kw'>sample</span> <span class='kw'>=</span> <span class='no'>sfile2</span>, <span class='kw'>phylo</span> <span class='kw'>=</span> <span class='no'>pfile2</span>, <span class='kw'>null_model</span> <span class='kw'>=</span> <span class='fl'>1</span>)</div><div class='output co'>#&gt; # A tibble: 6 × 15
#&gt;      plot ntaxa    MPD MPD.rnd MPD.sd     NRI MPD.rankLow MPD.rankHi  MNTD
#&gt;     &lt;chr&gt; &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;       &lt;int&gt;      &lt;int&gt; &lt;dbl&gt;
#&gt; 1  clump1     8 4.2500  7.0913 0.4003  7.0975         999          0 2.000
#&gt; 2 clump2a     8 4.9444  7.0962 0.3556  6.0511         999          0 2.000
#&gt; 3 clump2b     8 5.8333  7.0900 0.3491  3.5992         991          9 2.000
#&gt; 4  clump4     8 6.9444  7.0930 0.3365  0.4416         748        274 2.000
#&gt; 5    even     8 7.7500  7.2055 0.3067 -1.7755           3        999 6.000
#&gt; 6  random     8 7.1094  6.9310 0.3936 -0.4530         398        614 4.875
#&gt; # ... with 6 more variables: MNTD.rnd &lt;dbl&gt;, MNTD.sd &lt;dbl&gt;, NTI &lt;dbl&gt;,
#&gt; #   MNTD.rankLo &lt;int&gt;, MNTD.rankHi &lt;int&gt;, runs &lt;int&gt;</div><div class='input'><span class='fu'>ph_comstruct</span>(<span class='kw'>sample</span> <span class='kw'>=</span> <span class='no'>sfile2</span>, <span class='kw'>phylo</span> <span class='kw'>=</span> <span class='no'>pfile2</span>, <span class='kw'>null_model</span> <span class='kw'>=</span> <span class='fl'>2</span>)</div><div class='output co'>#&gt; # A tibble: 6 × 15
#&gt;      plot ntaxa    MPD MPD.rnd MPD.sd     NRI MPD.rankLow MPD.rankHi  MNTD
#&gt;     &lt;chr&gt; &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;       &lt;int&gt;      &lt;int&gt; &lt;dbl&gt;
#&gt; 1  clump1     8 4.2500  7.2934 0.2716 11.2059         999          0 2.000
#&gt; 2 clump2a     8 4.9444  7.1540 0.3118  7.0856         999          0 2.000
#&gt; 3 clump2b     8 5.8333  7.1740 0.3140  4.2693         996          3 2.000
#&gt; 4  clump4     8 6.9444  7.1575 0.3349  0.6362         813        208 2.000
#&gt; 5    even     8 7.7500  7.2762 0.3002 -1.5783           8        999 6.000
#&gt; 6  random     8 7.1094  7.0248 0.3351 -0.2525         478        544 4.875
#&gt; # ... with 6 more variables: MNTD.rnd &lt;dbl&gt;, MNTD.sd &lt;dbl&gt;, NTI &lt;dbl&gt;,
#&gt; #   MNTD.rankLo &lt;int&gt;, MNTD.rankHi &lt;int&gt;, runs &lt;int&gt;</div><div class='input'><span class='fu'>ph_comstruct</span>(<span class='kw'>sample</span> <span class='kw'>=</span> <span class='no'>sfile2</span>, <span class='kw'>phylo</span> <span class='kw'>=</span> <span class='no'>pfile2</span>, <span class='kw'>null_model</span> <span class='kw'>=</span> <span class='fl'>3</span>)</div><div class='output co'>#&gt; # A tibble: 6 × 15
#&gt;      plot ntaxa    MPD MPD.rnd MPD.sd     NRI MPD.rankLow MPD.rankHi  MNTD
#&gt;     &lt;chr&gt; &lt;int&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;       &lt;int&gt;      &lt;int&gt; &lt;dbl&gt;
#&gt; 1  clump1     8 4.2500  6.9381 0.3722  7.2227         999          0 2.000
#&gt; 2 clump2a     8 4.9444  6.9486 0.3615  5.5437         999          0 2.000
#&gt; 3 clump2b     8 5.8333  6.9477 0.3786  2.9434         983         16 2.000
#&gt; 4  clump4     8 6.9444  6.9309 0.3800 -0.0357         557        447 2.000
#&gt; 5    even     8 7.7500  6.9488 0.3721 -2.1532           0        999 6.000
#&gt; 6  random     8 7.1094  6.9298 0.3952 -0.4544         370        629 4.875
#&gt; # ... with 6 more variables: MNTD.rnd &lt;dbl&gt;, MNTD.sd &lt;dbl&gt;, NTI &lt;dbl&gt;,
#&gt; #   MNTD.rankLo &lt;int&gt;, MNTD.rankHi &lt;int&gt;, runs &lt;int&gt;</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#null-models">Null models</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Jeroen Ooms, Scott Chamberlain.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  </body>
</html>
